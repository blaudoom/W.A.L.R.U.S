package fi.blaudoom.pentestgui.util;

import java.io.BufferedReader;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.util.function.Consumer;

public class ProcessStreamUtil implements Runnable{
        private InputStream inputStream;
        private Consumer<String> consumer;

        private StringBuffer buffer;

        public ProcessStreamUtil(InputStream inputStream) {
            this.inputStream = inputStream;
            buffer = new StringBuffer();
        }

        @Override
        public void run() {
            new BufferedReader(new InputStreamReader(inputStream)).lines()
                    .forEach(this::append);
        }

    private void append(String s) {
            this.buffer.append(s);
            this.buffer.append("\n");
            this.buffer.append("\r");
    }
    public StringBuffer getOutput(){
            return buffer;
    }


}
